# 一切都是对象
在Java中一切被视为对象，但是操作的标示符实际上是对象的一个引用（reference）。`如同电视机和遥控器一般，只需要通过拿着遥控器就能去控制电视机。`

## 存储
除去一些特殊的生成对象行为（ex. String s = "object";），java一般都是通过new这种通用化的方式去生成对象。那么在程序运行的过程中生成的对象会存放到什么地方？内存如何分配？

有五种方式可以存储数据：

* `寄存器`。数量有限，不能直接控制，程序中也感觉不到寄存器存在。
* `堆栈`。位于通用RAM（随机访问存储器）中，通过堆栈指针的向下、向上移动，对应分配、释放内存。要上下移动指针，就需要确切的生命周期，所以会限制灵活性。Java对象不存于此，但是对象引用会存在这个地方。
* `堆`。也位于RAM区。用于存放对象，不同于堆栈，不需要知道确切的生命周期。相应的代价是：分配和清理比堆栈更慢。
* `常量存储`。常量值直接存放在代码内部。
* `非RAM`。活于程序之外，不受程序控制。例子：流对象和持久化对象。在需要的时候再恢复成基于RAM的对象。

### 特例：基本类型
为了提高效率，模仿c类语言，不需要new，`基本类型对象直接存于堆栈`。
java提供了每种基本类型的包装器类，使得可以在堆中创建一个非基本对象，用来表示对应的基本类型。

对于高精度数字，提供了`BigInteger` 和 `BigDecimal`，没有对应的基本类型。

### 数组
Java确保数组被初始化，且会安排上范围检查以保证不能在它的范围之外被访问。

### 作用域
C、C++、Java的作用域都由花括号位置决定。
然而，**不同点是：** c/c++能够将一个较大的作用域变量隐藏起来，而java不允许，如：
```Java
{
  int x = 12;
  {
    int x = 13;
  }
}
// java编译不通过。
```

### 对象作用域
对象不同于基本类型，new出来的对象会存在作用域之外，所以等垃圾回收器的存在消除了一系列内存溢出的问题。

## 自定义类
定义字段、类型、方法。

## 方法、参数和返回值

* 参数传递的是对象的引用。





